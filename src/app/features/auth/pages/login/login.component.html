<div class="min-h-screen flex items-center justify-center px-4 py-8 pt-20">
    <div class="w-full max-w-[400px] bg-slate-800 border border-slate-700 rounded-xl p-8">
        <div class="text-center mb-8">
            <i class="bi bi-box-arrow-in-right text-[2.5rem] text-blue-500 mb-3 block"></i>
            <h1 class="text-2xl text-slate-100 mb-2">Sign In</h1>
            <p class="text-slate-500 text-[0.9375rem]">Access your JobFinder account</p>
        </div>

        @if (errorMessage()) {
        <div
            class="py-3.5 px-4 rounded-lg mb-6 flex items-center gap-2 text-sm bg-red-600/[.12] border border-red-600/25 text-red-300">
            <i class="bi bi-exclamation-circle"></i>
            {{ errorMessage() }}
        </div>
        }

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="mb-5">
                <label for="email" class="block text-[0.8125rem] text-slate-400 mb-2 font-medium">Email</label>
                <input type="email" id="email" formControlName="email" placeholder="your@email.com"
                    class="w-full bg-slate-700 border border-slate-600 rounded-lg py-3 px-4 text-slate-100 text-[0.9375rem] transition-colors duration-200 focus:outline-none focus:border-blue-600 placeholder:text-slate-500"
                    [class.!border-red-600]="isFieldInvalid('email')">
                @if (isFieldInvalid('email')) {
                <span class="block text-red-400 text-[0.8125rem] mt-1.5">
                    @if (loginForm.get('email')?.errors?.['required']) {
                    Email is required
                    } @else if (loginForm.get('email')?.errors?.['email']) {
                    Invalid email format
                    }
                </span>
                }
            </div>

            <div class="mb-5">
                <label for="password" class="block text-[0.8125rem] text-slate-400 mb-2 font-medium">Password</label>
                <div class="relative">
                    <input [type]="showPassword() ? 'text' : 'password'" id="password" formControlName="password"
                        placeholder="••••••••"
                        class="w-full bg-slate-700 border border-slate-600 rounded-lg py-3 px-4 pr-12 text-slate-100 text-[0.9375rem] transition-colors duration-200 focus:outline-none focus:border-blue-600 placeholder:text-slate-500"
                        [class.!border-red-600]="isFieldInvalid('password')">
                    <button type="button"
                        class="absolute right-3 top-1/2 -translate-y-1/2 bg-transparent border-none text-slate-500 cursor-pointer p-1 text-base hover:text-slate-400"
                        (click)="showPassword.set(!showPassword())">
                        <i class="bi" [class.bi-eye]="!showPassword()" [class.bi-eye-slash]="showPassword()"></i>
                    </button>
                </div>
                @if (isFieldInvalid('password')) {
                <span class="block text-red-400 text-[0.8125rem] mt-1.5">Password is required</span>
                }
            </div>

            <button type="submit"
                class="w-full bg-blue-600 text-white border-none rounded-lg py-3.5 px-6 text-[0.9375rem] font-semibold cursor-pointer transition-colors duration-200 flex items-center justify-center gap-2 mt-2 hover:bg-blue-700 disabled:opacity-60 disabled:cursor-not-allowed"
                [disabled]="isLoading()">
                @if (isLoading()) {
                <span
                    class="w-[18px] h-[18px] border-2 border-white/30 border-t-white rounded-full animate-spin"></span>
                Signing in...
                } @else {
                <i class="bi bi-box-arrow-in-right"></i> Sign In
                }
            </button>
        </form>

        <div class="text-center mt-6 pt-6 border-t border-slate-700">
            <p class="text-slate-500 m-0 text-sm">Don't have an account? <a routerLink="/register"
                    class="text-blue-500 no-underline font-medium hover:underline">Register</a></p>
        </div>
    </div>
</div>